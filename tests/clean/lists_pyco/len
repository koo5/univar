@prefix rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
kb
#â€” Existence of lists
(?X).
{ [ ] rdf:first ?X; rdf:rest ?L} <= { ?L rdf:rest [ ] }.

:zero a :Nat.
{?x a :Nat. ?y :has_succ ?x.} <= {?y a :Nat}.

{rdf:nil :has_len :zero} <= {}.
{?list :has_len ?len} <= {?list rdf:rest ?rest. ?rest :has_len ?rest_len. ?rest_len :has_succ ?len.}.

fin.

query
() :has_len ?l.
fin.
shouldbe
() :has_len :zero.
fin.
thatsall

query
(:a) :has_len ?l.
fin.
shouldbetrue
thatsall

query
(:a :b) :has_len ?l.
fin.
shouldbetrue
thatsall

query
(:a :b :c) :has_len ?l.
fin.
shouldbetrue
thatsall

query
(:a :b :c :d) :has_len ?l. :zero :has_succ ?one. ?one :has_succ ?two. ?two :has_succ ?three. ?three :has_succ ?l.
fin.
shouldbetrue
thatsall

query
(:a :b :c :d) :has_len ?l. :zero :has_succ ?one. ?one :has_succ ?two. ?two :has_succ ?l.
fin.
shouldbe
fin.
thatsall

query
(:a :b :c :d) :has_len ?l. :zero :has_succ ?one. ?one :has_succ ?two. ?two :has_succ ?three. ?three :has_succ ?four. ?four :has_succ ?l.
fin.
shouldbe
fin.
thatsall
